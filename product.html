const id = new URLSearchParams(window.location.search).get("id");

fetch("data/products.json")
  .then(res => res.json())
  .then(data => {
    const product = data.products.find(p => p.name === id);

    if (!product) {
      document.getElementById("product-details").innerHTML = "<p>Product not found ðŸ˜¢</p>";
      return;
    }

    const div = document.createElement("div");
    div.className = "product";
    div.innerHTML = `
      <img src="${product.image}" alt="${product.name}">
      <h2>${product.name}</h2>
      <p><strong>Price:</strong> ${product.price}</p>
      <p><strong>Description:</strong> ${product.description}</p>
      <p><strong>Sizes:</strong> ${product.sizes.join(", ")}</p>
      <form id="order-form">
        <label>Size:</label>
        <select required>
          ${product.sizes.map(size => `<option value="${size}">${size}</option>`).join("")}
        </select>
        <label>Your Email:</label>
        <input type="email" required placeholder="you@example.com" />
        <button type="submit">Order Now</button>
      </form>
    `;
    document.getElementById("product-details").appendChild(div);

    document.getElementById("order-form").addEventListener("submit", e => {
      e.preventDefault();
      alert("Order received ðŸ’– We'll contact you soon!");
    });
  });
